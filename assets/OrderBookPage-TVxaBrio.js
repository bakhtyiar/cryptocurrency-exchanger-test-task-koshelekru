import{m as pe,a as _e,b as Be,u as ot,c as ut,d as it,e as He,V as xe,f as ia,g as Ke,h as Ue,i as We,_ as ca}from"./TheHeader.vue_vue_type_script_setup_true_lang-EcSDAvht.js";import{i as da,p as T,m as H,e as K,g as $,u as ct,f as N,a as u,h as me,j as be,k as x,l as dt,n as fa,r as va,q as L,w as re,s as ft,t as W,v as se,x as oe,y as fe,z as D,A as O,B as vt,C as M,D as ye,E as ga,F as Ve,I as z,G as ma,H as ba,J as ya,K as ha,L as J,M as ue,N as ie,O as Sa,P as ce,Q as qe,R as Y,S as gt,T as Z,U as Pe,V as ka,W as wa,X as mt,Y as le,Z as de,_ as Te,$ as X,a0 as bt,a1 as ve,a2 as Ce,a3 as Je,a4 as xa,a5 as ae,a6 as te,d as Pa,a7 as Ca,a8 as Va,c as Ia,a9 as A,o as pa}from"./index-4589w5do.js";import{u as _a,m as he,a as De,b as Fe,c as Ba,d as Ta,e as Le,f as yt,g as Da,h as Fa,i as ht,j as La,k as Oa,l as St,n as $a,o as Aa,p as Na,q as Ra,R as Ea,r as Ma,V as ne,s as Oe,L as ja,t as $e,v as Ga,w as za}from"./VSelect-DPZYliKr.js";function Qe(e,l,t){return Object.keys(e).filter(a=>da(a)&&a.endsWith(l)).reduce((a,n)=>(a[n.slice(0,-l.length)]=r=>e[n](r,t(r)),a),{})}const Ha=T({fluid:{type:Boolean,default:!1},...H(),...K()},"VContainer"),Ka=$()({name:"VContainer",props:Ha(),setup(e,l){let{slots:t}=l;const{rtlClasses:a}=ct();return N(()=>u(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},a.value,e.class],style:e.style},t)),{}}}),kt=me.reduce((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e),{}),wt=me.reduce((e,l)=>{const t="offset"+be(l);return e[t]={type:[String,Number],default:null},e},{}),xt=me.reduce((e,l)=>{const t="order"+be(l);return e[t]={type:[String,Number],default:null},e},{}),Xe={col:Object.keys(kt),offset:Object.keys(wt),order:Object.keys(xt)};function Ua(e,l,t){let a=e;if(!(t==null||t===!1)){if(l){const n=l.replace(e,"");a+=`-${n}`}return e==="col"&&(a="v-"+a),e==="col"&&(t===""||t===!0)||(a+=`-${t}`),a.toLowerCase()}}const Wa=["auto","start","end","center","baseline","stretch"],qa=T({cols:{type:[Boolean,String,Number],default:!1},...kt,offset:{type:[String,Number],default:null},...wt,order:{type:[String,Number],default:null},...xt,alignSelf:{type:String,default:null,validator:e=>Wa.includes(e)},...H(),...K()},"VCol"),Ye=$()({name:"VCol",props:qa(),setup(e,l){let{slots:t}=l;const a=x(()=>{const n=[];let r;for(r in Xe)Xe[r].forEach(o=>{const d=e[o],i=Ua(r,o,d);i&&n.push(i)});const s=n.some(o=>o.startsWith("v-col-"));return n.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),n});return()=>{var n;return dt(e.tag,{class:[a.value,e.class],style:e.style},(n=t.default)==null?void 0:n.call(t))}}}),Ae=["start","end","center"],Pt=["space-between","space-around","space-evenly"];function Ne(e,l){return me.reduce((t,a)=>{const n=e+be(a);return t[n]=l(),t},{})}const Ja=[...Ae,"baseline","stretch"],Ct=e=>Ja.includes(e),Vt=Ne("align",()=>({type:String,default:null,validator:Ct})),Qa=[...Ae,...Pt],It=e=>Qa.includes(e),pt=Ne("justify",()=>({type:String,default:null,validator:It})),Xa=[...Ae,...Pt,"stretch"],_t=e=>Xa.includes(e),Bt=Ne("alignContent",()=>({type:String,default:null,validator:_t})),Ze={align:Object.keys(Vt),justify:Object.keys(pt),alignContent:Object.keys(Bt)},Ya={align:"align",justify:"justify",alignContent:"align-content"};function Za(e,l,t){let a=Ya[e];if(t!=null){if(l){const n=l.replace(e,"");a+=`-${n}`}return a+=`-${t}`,a.toLowerCase()}}const el=T({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ct},...Vt,justify:{type:String,default:null,validator:It},...pt,alignContent:{type:String,default:null,validator:_t},...Bt,...H(),...K()},"VRow"),tl=$()({name:"VRow",props:el(),setup(e,l){let{slots:t}=l;const a=x(()=>{const n=[];let r;for(r in Ze)Ze[r].forEach(s=>{const o=e[s],d=Za(r,s,o);d&&n.push(d)});return n.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),n});return()=>{var n;return dt(e.tag,{class:["v-row",a.value,e.class],style:e.style},(n=t.default)==null?void 0:n.call(t))}}});async function al(e,l){let t="https://api.binance.com/api/v3/depth";return t+=`?symbol=${e}`,l&&(t+=`&limit=${l}`),await fetch(t).then(a=>a.json())}function ll(e,l){let t=`wss://stream.binance.com:9443/ws/${e.toLowerCase()}@depth`;t+="@1000ms";const a=new WebSocket(t);return window.onbeforeunload=function(){a.onclose=function(){},a.close()},a}function Tt(e,l){return new Promise((t,a)=>{let s=0;const o=setInterval(()=>{e()&&(clearInterval(o),t()),s>9&&(clearInterval(o),a(new Error("Maximum number of attempts exceeded"))),s++},300)})}function nl(e,l){return Tt(()=>e.readyState===e.OPEN)}function rl(e,l){return Tt(()=>e.readyState===e.CLOSED)}const sl=function(e="index"){return fa("orderBookStore_"+e,il)()},ol=50,ul=50,il=()=>{const e=va({lastUpdateId:void 0,bids:void 0,asks:void 0}),l=x({get(){return e.lastUpdateId},set(c){e.lastUpdateId=c}}),t=x({get(){return e.bids},set(c){e.bids=c}}),a=x({get(){return e.asks},set(c){e.asks=c}}),n=L([]);let r;const s=L(100);re(s,async c=>{f.value=!0,await h(W(c)),f.value=!1});const o=_a(),{selectedPair:d}=ft(o);re(d,async()=>{console.trace("watch selectedPair"),m.value&&!f.value&&(f.value=!0,await h(W(s)),f.value=!1)});let i,m=L(!1),f=L(!1);async function g(){console.trace("initialize()"),f.value=!0,await h(W(s)),m.value=!0,f.value=!1}async function h(c){console.trace("fetchData()"),n.value=[],r=void 0,f.value=!0,!i||i.readyState===i.CLOSED?(console.trace("*** 1"),await S()):i.readyState===i.CLOSING?(console.trace("*** 2"),await rl(i),await S()):(console.trace("*** 3"),b(),await S()),console.trace(i),await nl(i);const I=await al(W(d),c);for(let p in e)e.hasOwnProperty(p)&&delete e[p];Object.assign(e,I),v(),f.value=!1}async function S(){return console.trace("subscribeToDiff()"),i=ll(W(d)),i.onopen=async function(){console.log("Opened diff depth orderBook stream.")},i.onmessage=async function(I){const p=JSON.parse(I.data);p.e==="depthUpdate"&&p.s.toLowerCase()===W(d).toLowerCase()&&(l.value&&p.u<=l.value||(n.value.push(p),m.value&&(v(),(e.bids.length<ul||e.asks.length<ol)&&(f.value=!0,await h(W(s)),f.value=!1))))},i.onclose=function(){console.log("Closed diff depth orderBook stream.")},i.onerror=function(c){console.error("Failed diff depth orderBook stream: ",c)},i}function b(){i&&i.close(),i=void 0}function v(){console.trace("processBuffer()");for(let c=0;c<n.value.length;c++)console.log(`	lastUpdateId.value=${l.value}`),console.log(`	i=${c} updatesBuffer.value.length=${n.value.length}`),!r&&l.value&&n.value[c].U<=l.value+1&&l.value+1<=n.value[c].u&&(console.log("	processBuffer **1"),r=n.value[c],k(n.value[c]),0<c&&(n.value.splice(0,c),c=0)),console.log("	currentProcessedEvent",r),r&&r.u+1===n.value[c].U&&(console.log("	processBuffer **2"),r=n.value[c],k(n.value[c]),0<c&&(n.value.splice(0,c),c=0))}function k(c){console.trace("processUpdate()");let I=t.value;c.b.forEach(P=>{Number(P[1])==0?I=I.filter(B=>P[0]!=B[0]):I.forEach(B=>{B[0]==P[0]&&(B[1]=P[1])})}),t.value=I;let p=a.value;c.a.forEach(P=>{Number(P[1])==0?p=p.filter(B=>P[0]!=B[0]):p.forEach(B=>{B[0]==P[0]&&(B[1]=P[1])})}),a.value=p}return{initialize:g,initialized:m,loading:f,orderBook:e,lastUpdateId:l,bids:t,asks:a,amountLimit:s,updatesBuffer:n,subscribeToDiff:S,unsubscribeFromDiff:b}},Dt=T({baseColor:String,divided:Boolean,...pe(),...H(),...he(),..._e(),...Be(),...K(),...se(),...De()},"VBtnGroup"),et=$()({name:"VBtnGroup",props:Dt(),setup(e,l){let{slots:t}=l;const{themeClasses:a}=oe(e),{densityClasses:n}=Fe(e),{borderClasses:r}=ot(e),{elevationClasses:s}=ut(e),{roundedClasses:o}=it(e);fe({VBtn:{height:"auto",baseColor:D(e,"baseColor"),color:D(e,"color"),density:D(e,"density"),flat:!0,variant:D(e,"variant")}}),N(()=>u(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},a.value,r.value,n.value,s.value,o.value,e.class],style:e.style},t))}}),Ft=Symbol.for("vuetify:v-btn-toggle"),cl=T({...Dt(),...Ba()},"VBtnToggle");$()({name:"VBtnToggle",props:cl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:t}=l;const{isSelected:a,next:n,prev:r,select:s,selected:o}=Ta(e,Ft);return N(()=>{const d=et.filterProps(e);return u(et,O({class:["v-btn-toggle",e.class]},d,{style:e.style}),{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t,{isSelected:a,next:n,prev:r,select:s,selected:o})]}})}),{next:n,prev:r,select:s}}});const dl=T({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...H(),...Le(),...K({tag:"div"}),...se()},"VProgressCircular"),fl=$()({name:"VProgressCircular",props:dl(),setup(e,l){let{slots:t}=l;const a=20,n=2*Math.PI*a,r=L(),{themeClasses:s}=oe(e),{sizeClasses:o,sizeStyles:d}=yt(e),{textColorClasses:i,textColorStyles:m}=He(D(e,"color")),{textColorClasses:f,textColorStyles:g}=He(D(e,"bgColor")),{intersectionRef:h,isIntersecting:S}=Da(),{resizeRef:b,contentRect:v}=vt(),k=x(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),c=x(()=>Number(e.width)),I=x(()=>d.value?Number(e.size):v.value?v.value.width:Math.max(c.value,32)),p=x(()=>a/(1-c.value/I.value)*2),P=x(()=>c.value/I.value*p.value),B=x(()=>M((100-k.value)/100*n));return ye(()=>{h.value=r.value,b.value=r.value}),N(()=>u(e.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":S.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},s.value,o.value,i.value,e.class],style:[d.value,m.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:k.value},{default:()=>[u("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${p.value} ${p.value}`},[u("circle",{class:["v-progress-circular__underlay",f.value],style:g.value,fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":P.value,"stroke-dasharray":n,"stroke-dashoffset":0},null),u("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:a,"stroke-width":P.value,"stroke-dasharray":n,"stroke-dashoffset":B.value},null)]),t.default&&u("div",{class:"v-progress-circular__content"},[t.default({value:k.value})])]})),{}}}),vl=["static","relative","fixed","absolute","sticky"],gl=T({position:{type:String,validator:e=>vl.includes(e)}},"position");function ml(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ga();return{positionClasses:x(()=>e.position?`${l}--${e.position}`:void 0)}}function bl(e,l){re(()=>{var t;return(t=e.isActive)==null?void 0:t.value},t=>{e.isLink.value&&t&&l&&Ve(()=>{l(!0)})},{immediate:!0})}const yl=T({active:{type:Boolean,default:void 0},baseColor:String,symbol:{type:null,default:Ft},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:z,appendIcon:z,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...pe(),...H(),...he(),...ma(),..._e(),...Fa(),...ht(),...La(),...gl(),...Be(),...Oa(),...Le(),...K({tag:"button"}),...se(),...De({variant:"elevated"})},"VBtn"),q=$()({name:"VBtn",props:yl(),emits:{"group:selected":e=>!0},setup(e,l){let{attrs:t,slots:a}=l;const{themeClasses:n}=oe(e),{borderClasses:r}=ot(e),{densityClasses:s}=Fe(e),{dimensionStyles:o}=ba(e),{elevationClasses:d}=ut(e),{loaderClasses:i}=St(e),{locationStyles:m}=$a(e),{positionClasses:f}=ml(e),{roundedClasses:g}=it(e),{sizeClasses:h,sizeStyles:S}=yt(e),b=Aa(e,e.symbol,!1),v=Na(e,t),k=x(()=>{var C;return e.active!==void 0?e.active:v.isLink.value?(C=v.isActive)==null?void 0:C.value:b==null?void 0:b.isSelected.value}),c=x(()=>{var V,_;return{color:(b==null?void 0:b.isSelected.value)&&(!v.isLink.value||((V=v.isActive)==null?void 0:V.value))||!b||((_=v.isActive)==null?void 0:_.value)?e.color??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:I,colorStyles:p,variantClasses:P}=Ra(c),B=x(()=>(b==null?void 0:b.disabled.value)||e.disabled),j=x(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),w=x(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function y(C){var V;B.value||v.isLink.value&&(C.metaKey||C.ctrlKey||C.shiftKey||C.button!==0||t.target==="_blank")||((V=v.navigate)==null||V.call(v,C),b==null||b.toggle())}return bl(v,b==null?void 0:b.select),N(()=>{const C=v.isLink.value?"a":e.tag,V=!!(e.prependIcon||a.prepend),_=!!(e.appendIcon||a.append),F=!!(e.icon&&e.icon!==!0);return ya(u(C,{type:C==="a"?void 0:"button",class:["v-btn",b==null?void 0:b.selectedClass.value,{"v-btn--active":k.value,"v-btn--block":e.block,"v-btn--disabled":B.value,"v-btn--elevated":j.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},n.value,r.value,I.value,s.value,d.value,i.value,f.value,g.value,h.value,P.value,e.class],style:[p.value,o.value,m.value,S.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:B.value||void 0,href:v.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:y,value:w.value},{default:()=>{var R;return[Ma(!0,"v-btn"),!e.icon&&V&&u("span",{key:"prepend",class:"v-btn__prepend"},[a.prepend?u(xe,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},a.prepend):u(ne,{key:"prepend-icon",icon:e.prependIcon},null)]),u("span",{class:"v-btn__content","data-no-activator":""},[!a.default&&F?u(ne,{key:"content-icon",icon:e.icon},null):u(xe,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var G;return[((G=a.default)==null?void 0:G.call(a))??e.text]}})]),!e.icon&&_&&u("span",{key:"append",class:"v-btn__append"},[a.append?u(xe,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},a.append):u(ne,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&u("span",{key:"loader",class:"v-btn__loader"},[((R=a.loader)==null?void 0:R.call(a))??u(fl,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ea,!B.value&&!!e.ripple,"",{center:!!e.icon}]])}),{group:b}}});function hl(){const e=L([]);ha(()=>e.value=[]);function l(t,a){e.value[a]=t}return{refs:e,updateRef:l}}const Sl=T({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:z,default:"$first"},prevIcon:{type:z,default:"$prev"},nextIcon:{type:z,default:"$next"},lastIcon:{type:z,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...pe(),...H(),...he(),..._e(),...Be(),...Le(),...K({tag:"nav"}),...se(),...De({variant:"text"})},"VPagination"),tt=$()({name:"VPagination",props:Sl(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,l){let{slots:t,emit:a}=l;const n=J(e,"modelValue"),{t:r,n:s}=ue(),{isRtl:o}=ct(),{themeClasses:d}=oe(e),{width:i}=ie(),m=Sa(-1);fe(void 0,{scoped:!0});const{resizeRef:f}=vt(w=>{if(!w.length)return;const{target:y,contentRect:C}=w[0],V=y.querySelector(".v-pagination__list > *");if(!V)return;const _=C.width,F=V.offsetWidth+parseFloat(getComputedStyle(V).marginRight)*2;m.value=b(_,F)}),g=x(()=>parseInt(e.length,10)),h=x(()=>parseInt(e.start,10)),S=x(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):m.value>=0?m.value:b(i.value,58));function b(w,y){const C=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((w-y*C)/y).toFixed(2)))}const v=x(()=>{if(g.value<=0||isNaN(g.value)||g.value>Number.MAX_SAFE_INTEGER)return[];if(S.value<=0)return[];if(S.value===1)return[n.value];if(g.value<=S.value)return ce(g.value,h.value);const w=S.value%2===0,y=w?S.value/2:Math.floor(S.value/2),C=w?y:y+1,V=g.value-y;if(C-n.value>=0)return[...ce(Math.max(1,S.value-1),h.value),e.ellipsis,g.value];if(n.value-V>=(w?1:0)){const _=S.value-1,F=g.value-_+h.value;return[h.value,e.ellipsis,...ce(_,F)]}else{const _=Math.max(1,S.value-3),F=_===1?n.value:n.value-Math.ceil(_/2)+h.value;return[h.value,e.ellipsis,...ce(_,F),e.ellipsis,g.value]}});function k(w,y,C){w.preventDefault(),n.value=y,C&&a(C,y)}const{refs:c,updateRef:I}=hl();fe({VPaginationBtn:{color:D(e,"color"),border:D(e,"border"),density:D(e,"density"),size:D(e,"size"),variant:D(e,"variant"),rounded:D(e,"rounded"),elevation:D(e,"elevation")}});const p=x(()=>v.value.map((w,y)=>{const C=V=>I(V,y);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${y}`,page:w,props:{ref:C,ellipsis:!0,icon:!0,disabled:!0}};{const V=w===n.value;return{isActive:V,key:w,page:s(w),props:{ref:C,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:V?e.activeColor:e.color,"aria-current":V,"aria-label":r(V?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:_=>k(_,w)}}}})),P=x(()=>{const w=!!e.disabled||n.value<=h.value,y=!!e.disabled||n.value>=h.value+g.value-1;return{first:e.showFirstLastPage?{icon:o.value?e.lastIcon:e.firstIcon,onClick:C=>k(C,h.value,"first"),disabled:w,"aria-label":r(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:o.value?e.nextIcon:e.prevIcon,onClick:C=>k(C,n.value-1,"prev"),disabled:w,"aria-label":r(e.previousAriaLabel),"aria-disabled":w},next:{icon:o.value?e.prevIcon:e.nextIcon,onClick:C=>k(C,n.value+1,"next"),disabled:y,"aria-label":r(e.nextAriaLabel),"aria-disabled":y},last:e.showFirstLastPage?{icon:o.value?e.firstIcon:e.lastIcon,onClick:C=>k(C,h.value+g.value-1,"last"),disabled:y,"aria-label":r(e.lastAriaLabel),"aria-disabled":y}:void 0}});function B(){var y;const w=n.value-h.value;(y=c.value[w])==null||y.$el.focus()}function j(w){w.key===qe.left&&!e.disabled&&n.value>+e.start?(n.value=n.value-1,Ve(B)):w.key===qe.right&&!e.disabled&&n.value<h.value+g.value-1&&(n.value=n.value+1,Ve(B))}return N(()=>u(e.tag,{ref:f,class:["v-pagination",d.value,e.class],style:e.style,role:"navigation","aria-label":r(e.ariaLabel),onKeydown:j,"data-test":"v-pagination-root"},{default:()=>[u("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&u("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(P.value.first):u(q,O({_as:"VPaginationBtn"},P.value.first),null)]),u("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(P.value.prev):u(q,O({_as:"VPaginationBtn"},P.value.prev),null)]),p.value.map((w,y)=>u("li",{key:w.key,class:["v-pagination__item",{"v-pagination__item--is-active":w.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(w):u(q,O({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),u("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(P.value.next):u(q,O({_as:"VPaginationBtn"},P.value.next),null)]),e.showFirstLastPage&&u("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(P.value.last):u(q,O({_as:"VPaginationBtn"},P.value.last),null)])])]})),{}}}),kl=T({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Lt=Symbol.for("vuetify:data-table-pagination");function wl(e){const l=J(e,"page",void 0,a=>+(a??1)),t=J(e,"itemsPerPage",void 0,a=>+(a??10));return{page:l,itemsPerPage:t}}function xl(e){const{page:l,itemsPerPage:t,itemsLength:a}=e,n=x(()=>t.value===-1?0:t.value*(l.value-1)),r=x(()=>t.value===-1?a.value:Math.min(a.value,n.value+t.value)),s=x(()=>t.value===-1||a.value===0?1:Math.ceil(a.value/t.value));ye(()=>{l.value>s.value&&(l.value=s.value)});function o(g){t.value=g,l.value=1}function d(){l.value=Pe(l.value+1,1,s.value)}function i(){l.value=Pe(l.value-1,1,s.value)}function m(g){l.value=Pe(g,1,s.value)}const f={page:l,itemsPerPage:t,startIndex:n,stopIndex:r,pageCount:s,itemsLength:a,nextPage:d,prevPage:i,setPage:m,setItemsPerPage:o};return Y(Lt,f),f}function Pl(){const e=Z(Lt);if(!e)throw new Error("Missing pagination!");return e}function Cl(e){const l=gt("usePaginatedItems"),{items:t,startIndex:a,stopIndex:n,itemsPerPage:r}=e,s=x(()=>r.value<=0?t.value:t.value.slice(a.value,n.value));return re(s,o=>{l.emit("update:currentItems",o)}),{paginatedItems:s}}const Ot=T({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),at=$()({name:"VDataTableFooter",props:Ot(),setup(e,l){let{slots:t}=l;const{t:a}=ue(),{page:n,pageCount:r,startIndex:s,stopIndex:o,itemsLength:d,itemsPerPage:i,setItemsPerPage:m}=Pl(),f=x(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?a(g.title):g.title}));return N(()=>{var h;const g=tt.filterProps(e);return u("div",{class:"v-data-table-footer"},[(h=t.prepend)==null?void 0:h.call(t),u("div",{class:"v-data-table-footer__items-per-page"},[u("span",null,[a(e.itemsPerPageText)]),u(Oe,{items:f.value,modelValue:i.value,"onUpdate:modelValue":S=>m(Number(S)),density:"compact",variant:"outlined","hide-details":!0},null)]),u("div",{class:"v-data-table-footer__info"},[u("div",null,[a(e.pageText,d.value?s.value+1:0,o.value,d.value)])]),u("div",{class:"v-data-table-footer__pagination"},[u(tt,O({modelValue:n.value,"onUpdate:modelValue":S=>n.value=S,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:r.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},g),null)])])}),{}}}),ge=ka({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,l)=>{let{slots:t}=l;const a=e.tag??"td";return u(a,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:M(e.height),width:M(e.width),maxWidth:M(e.maxWidth),left:M(e.fixedOffset||null)}},{default:()=>{var n;return[(n=t.default)==null?void 0:n.call(t)]}})}),Vl=T({headers:Array},"DataTable-header"),$t=Symbol.for("vuetify:data-table-headers"),At={title:"",sortable:!1},Il={...At,width:48};function pl(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(t=>({element:t,priority:0}));return{enqueue:(t,a)=>{let n=!1;for(let r=0;r<l.length;r++)if(l[r].priority>a){l.splice(r,0,{element:t,priority:a}),n=!0;break}n||l.push({element:t,priority:a})},size:()=>l.length,count:()=>{let t=0;if(!l.length)return 0;const a=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===a&&(t+=1);return t},dequeue:()=>l.shift()}}function Ie(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const t of e.children)Ie(t,l);return l}function Nt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const t of e)t.key&&l.add(t.key),t.children&&Nt(t.children,l);return l}function _l(e){if(e.key){if(e.key==="data-table-group")return At;if(["data-table-expand","data-table-select"].includes(e.key))return Il}}function Re(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(t=>Re(t,l+1))):l}function Bl(e){let l=!1;function t(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(s&&(r.fixed=!0),r.fixed)if(r.children)for(let o=r.children.length-1;o>=0;o--)t(r.children[o],!0);else l?isNaN(+r.width)&&wa(`Multiple fixed columns should have a static width (key: ${r.key})`):r.lastFixed=!0,l=!0;else if(r.children)for(let o=r.children.length-1;o>=0;o--)t(r.children[o]);else l=!1}for(let r=e.length-1;r>=0;r--)t(e[r]);function a(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return s;if(r.children){r.fixedOffset=s;for(const o of r.children)s=a(o,s)}else r.fixed&&(r.fixedOffset=s,s+=parseFloat(r.width||"0")||0);return s}let n=0;for(const r of e)n=a(r,n)}function Tl(e,l){const t=[];let a=0;const n=pl(e);for(;n.size()>0;){let s=n.count();const o=[];let d=1;for(;s>0;){const{element:i,priority:m}=n.dequeue(),f=l-a-Re(i);if(o.push({...i,rowspan:f??1,colspan:i.children?Ie(i).length:1}),i.children)for(const g of i.children){const h=m%1+d/Math.pow(10,a+2);n.enqueue(g,a+f+h)}d+=1,s-=1}a+=1,t.push(o)}return{columns:e.map(s=>Ie(s)).flat(),headers:t}}function Rt(e){const l=[];for(const t of e){const a={..._l(t),...t},n=a.key??(typeof a.value=="string"?a.value:null),r=a.value??n??null,s={...a,key:n,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?Rt(a.children):void 0};l.push(s)}return l}function Dl(e,l){const t=L([]),a=L([]),n=L({}),r=L({}),s=L({});ye(()=>{var b,v,k;const i=(e.headers||Object.keys(e.items[0]??{}).map(c=>({key:c,title:be(c)}))).slice(),m=Nt(i);(b=l==null?void 0:l.groupBy)!=null&&b.value.length&&!m.has("data-table-group")&&i.unshift({key:"data-table-group",title:"Group"}),(v=l==null?void 0:l.showSelect)!=null&&v.value&&!m.has("data-table-select")&&i.unshift({key:"data-table-select"}),(k=l==null?void 0:l.showExpand)!=null&&k.value&&!m.has("data-table-expand")&&i.push({key:"data-table-expand"});const f=Rt(i);Bl(f);const g=Math.max(...f.map(c=>Re(c)))+1,h=Tl(f,g);t.value=h.headers,a.value=h.columns;const S=h.headers.flat(1);for(const c of S)c.key&&(c.sortable&&(c.sort&&(n.value[c.key]=c.sort),c.sortRaw&&(r.value[c.key]=c.sortRaw)),c.filter&&(s.value[c.key]=c.filter))});const o={headers:t,columns:a,sortFunctions:n,sortRawFunctions:r,filterFunctions:s};return Y($t,o),o}function Se(){const e=Z($t);if(!e)throw new Error("Missing headers!");return e}const Fl={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:l,value:t}=e;return new Set(t?[(a=l[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Et={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,currentPage:t,selected:a}=e;return Et.select({items:t,value:l,selected:a})}},Mt={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:t,selected:a}=e;for(const n of l)t?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:l,allItems:t,selected:a}=e;return Mt.select({items:t,value:l,selected:a})}},Ll=T({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:mt}},"DataTable-select"),jt=Symbol.for("vuetify:data-table-selection");function Ol(e,l){let{allItems:t,currentPage:a}=l;const n=J(e,"modelValue",e.modelValue,k=>new Set(le(k).map(c=>{var I;return((I=t.value.find(p=>e.valueComparator(c,p.value)))==null?void 0:I.value)??c})),k=>[...k.values()]),r=x(()=>t.value.filter(k=>k.selectable)),s=x(()=>a.value.filter(k=>k.selectable)),o=x(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Fl;case"all":return Mt;case"page":default:return Et}});function d(k){return le(k).every(c=>n.value.has(c.value))}function i(k){return le(k).some(c=>n.value.has(c.value))}function m(k,c){const I=o.value.select({items:k,value:c,selected:new Set(n.value)});n.value=I}function f(k){m([k],!d([k]))}function g(k){const c=o.value.selectAll({value:k,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=c}const h=x(()=>n.value.size>0),S=x(()=>{const k=o.value.allSelected({allItems:r.value,currentPage:s.value});return!!k.length&&d(k)}),b=x(()=>o.value.showSelectAll),v={toggleSelect:f,select:m,selectAll:g,isSelected:d,isSomeSelected:i,someSelected:h,allSelected:S,showSelectAll:b};return Y(jt,v),v}function ke(){const e=Z(jt);if(!e)throw new Error("Missing selection!");return e}const $l=T({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Gt=Symbol.for("vuetify:data-table-sort");function Al(e){const l=J(e,"sortBy"),t=D(e,"mustSort"),a=D(e,"multiSort");return{sortBy:l,mustSort:t,multiSort:a}}function Nl(e){const{sortBy:l,mustSort:t,multiSort:a,page:n}=e,r=d=>{if(d.key==null)return;let i=l.value.map(f=>({...f}))??[];const m=i.find(f=>f.key===d.key);m?m.order==="desc"?t.value?m.order="asc":i=i.filter(f=>f.key!==d.key):m.order="desc":a.value?i=[...i,{key:d.key,order:"asc"}]:i=[{key:d.key,order:"asc"}],l.value=i,n&&(n.value=1)};function s(d){return!!l.value.find(i=>i.key===d.key)}const o={sortBy:l,toggleSort:r,isSorted:s};return Y(Gt,o),o}function zt(){const e=Z(Gt);if(!e)throw new Error("Missing sort!");return e}function Rl(e,l,t,a){const n=ue();return{sortedItems:x(()=>{var s,o;return!t.value.length||e.disableSort?l.value:El(l.value,t.value,n.current.value,{transform:a==null?void 0:a.transform,sortFunctions:{...e.customKeySort,...(s=a==null?void 0:a.sortFunctions)==null?void 0:s.value},sortRawFunctions:(o=a==null?void 0:a.sortRawFunctions)==null?void 0:o.value})})}}function El(e,l,t,a){const n=new Intl.Collator(t,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,a!=null&&a.transform?a.transform(s):s]).sort((s,o)=>{var d,i;for(let m=0;m<l.length;m++){let f=!1;const g=l[m].key,h=l[m].order??"asc";if(h===!1)continue;let S=s[1][g],b=o[1][g],v=s[0].raw,k=o[0].raw;if(h==="desc"&&([S,b]=[b,S],[v,k]=[k,v]),(d=a==null?void 0:a.sortRawFunctions)!=null&&d[g]){const c=a.sortRawFunctions[g](v,k);if(c==null)continue;if(f=!0,c)return c}if((i=a==null?void 0:a.sortFunctions)!=null&&i[g]){const c=a.sortFunctions[g](S,b);if(c==null)continue;if(f=!0,c)return c}if(!f){if(S instanceof Date&&b instanceof Date)return S.getTime()-b.getTime();if([S,b]=[S,b].map(c=>c!=null?c.toString().toLocaleLowerCase():c),S!==b)return de(S)&&de(b)?0:de(S)?-1:de(b)?1:!isNaN(S)&&!isNaN(b)?Number(S)-Number(b):n.compare(S,b)}}return 0}).map(s=>{let[o]=s;return o})}const Ht=T({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:z,default:"$sortAsc"},sortDescIcon:{type:z,default:"$sortDesc"},headerProps:{type:Object},...Te(),...ht()},"VDataTableHeaders"),lt=$()({name:"VDataTableHeaders",props:Ht(),setup(e,l){let{slots:t}=l;const{t:a}=ue(),{toggleSort:n,sortBy:r,isSorted:s}=zt(),{someSelected:o,allSelected:d,selectAll:i,showSelectAll:m}=ke(),{columns:f,headers:g}=Se(),{loaderClasses:h}=St(e);function S(w,y){if(!(!e.sticky&&!w.fixed))return{position:"sticky",left:w.fixed?M(w.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${y})`:void 0}}function b(w){const y=r.value.find(C=>C.key===w.key);return y?y.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:v,backgroundColorStyles:k}=ia(e,"color"),{displayClasses:c,mobile:I}=ie(e),p=x(()=>({headers:g.value,columns:f.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:o.value,allSelected:d.value,selectAll:i,getSortIcon:b})),P=x(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},c.value,h.value]),B=w=>{let{column:y,x:C,y:V}=w;const _=y.key==="data-table-select"||y.key==="data-table-expand",F=O(e.headerProps??{},y.headerProps??{});return u(ge,O({tag:"th",align:y.align,class:[{"v-data-table__th--sortable":y.sortable&&!e.disableSort,"v-data-table__th--sorted":s(y),"v-data-table__th--fixed":y.fixed},...P.value],style:{width:M(y.width),minWidth:M(y.minWidth),maxWidth:M(y.maxWidth),...S(y,V)},colspan:y.colspan,rowspan:y.rowspan,onClick:y.sortable?()=>n(y):void 0,fixed:y.fixed,nowrap:y.nowrap,lastFixed:y.lastFixed,noPadding:_},F),{default:()=>{var Q;const R=`header.${y.key}`,G={column:y,selectAll:i,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:o.value,allSelected:d.value,getSortIcon:b};return t[R]?t[R](G):y.key==="data-table-select"?((Q=t["header.data-table-select"])==null?void 0:Q.call(t,G))??(m.value&&u($e,{modelValue:d.value,indeterminate:o.value&&!d.value,"onUpdate:modelValue":i},null)):u("div",{class:"v-data-table-header__content"},[u("span",null,[y.title]),y.sortable&&!e.disableSort&&u(ne,{key:"icon",class:"v-data-table-header__sort-icon",icon:b(y)},null),e.multiSort&&s(y)&&u("div",{key:"badge",class:["v-data-table-header__sort-badge",...v.value],style:k.value},[r.value.findIndex(we=>we.key===y.key)+1])])}})},j=()=>{const w=O(e.headerProps??{}??{}),y=x(()=>f.value.filter(V=>(V==null?void 0:V.sortable)&&!e.disableSort)),C=x(()=>{if(f.value.find(_=>_.key==="data-table-select")!=null)return d.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return u(ge,O({tag:"th",class:[...P.value],colspan:g.value.length+1},w),{default:()=>[u("div",{class:"v-data-table-header__content"},[u(Oe,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:y.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:C.value,"onClick:append":()=>i(!d.value)},{...t,chip:V=>{var _;return u(Ga,{onClick:(_=V.item.raw)!=null&&_.sortable?()=>n(V.item.raw):void 0,onMousedown:F=>{F.preventDefault(),F.stopPropagation()}},{default:()=>[V.item.title,u(ne,{class:["v-data-table__td-sort-icon",s(V.item.raw)&&"v-data-table__td-sort-icon-active"],icon:b(V.item.raw),size:"small"},null)]})}})])]})};N(()=>I.value?u("tr",null,[u(j,null,null)]):u(X,null,[t.headers?t.headers(p.value):g.value.map((w,y)=>u("tr",null,[w.map((C,V)=>u(B,{column:C,x:V,y},null))])),e.loading&&u("tr",{class:"v-data-table-progress"},[u("th",{colspan:f.value.length},[u(ja,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:t.loader})])])]))}}),Ml=T({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Kt=Symbol.for("vuetify:data-table-group");function jl(e){return{groupBy:J(e,"groupBy")}}function Gl(e){const{groupBy:l,sortBy:t}=e,a=L(new Set),n=x(()=>l.value.map(i=>({...i,order:i.order??!1})).concat(t.value));function r(i){return a.value.has(i.id)}function s(i){const m=new Set(a.value);r(i)?m.delete(i.id):m.add(i.id),a.value=m}function o(i){function m(f){const g=[];for(const h of f.items)"type"in h&&h.type==="group"?g.push(...m(h)):g.push(h);return g}return m({type:"group",items:i,id:"dummy",key:"dummy",value:"dummy",depth:0})}const d={sortByWithGroups:n,toggleGroup:s,opened:a,groupBy:l,extractRows:o,isGroupOpen:r};return Y(Kt,d),d}function Ut(){const e=Z(Kt);if(!e)throw new Error("Missing group!");return e}function zl(e,l){if(!e.length)return[];const t=new Map;for(const a of e){const n=bt(a.raw,l);t.has(n)||t.set(n,[]),t.get(n).push(a)}return t}function Wt(e,l){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=zl(e,l[0]),r=[],s=l.slice(1);return n.forEach((o,d)=>{const i=l[0],m=`${a}_${i}_${d}`;r.push({depth:t,id:m,key:i,value:d,items:s.length?Wt(o,s,t+1,m):o,type:"group"})}),r}function qt(e,l){const t=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&t.push(a),(l.has(a.id)||a.value==null)&&t.push(...qt(a.items,l))):t.push(a);return t}function Hl(e,l,t){return{flatItems:x(()=>{if(!l.value.length)return e.value;const n=Wt(e.value,l.value.map(r=>r.key));return qt(n,t.value)})}}const Kl=T({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Ul=$()({name:"VDataTableGroupHeaderRow",props:Kl(),setup(e,l){let{slots:t}=l;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=Ut(),{isSelected:s,isSomeSelected:o,select:d}=ke(),{columns:i}=Se(),m=x(()=>r([e.item]));return()=>u("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(f=>{var g,h;if(f.key==="data-table-group"){const S=a(e.item)?"$expand":"$next",b=()=>n(e.item);return((g=t["data-table-group"])==null?void 0:g.call(t,{item:e.item,count:m.value.length,props:{icon:S,onClick:b}}))??u(ge,{class:"v-data-table-group-header-row__column"},{default:()=>[u(q,{size:"small",variant:"text",icon:S,onClick:b},null),u("span",null,[e.item.value]),u("span",null,[ve("("),m.value.length,ve(")")])]})}if(f.key==="data-table-select"){const S=s(m.value),b=o(m.value)&&!S,v=k=>d(m.value,k);return((h=t["data-table-select"])==null?void 0:h.call(t,{props:{modelValue:S,indeterminate:b,"onUpdate:modelValue":v}}))??u("td",null,[u($e,{modelValue:S,indeterminate:b,"onUpdate:modelValue":v},null)])}return u("td",null,null)})])}}),Wl=T({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Jt=Symbol.for("vuetify:datatable:expanded");function ql(e){const l=D(e,"expandOnClick"),t=J(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function a(o,d){const i=new Set(t.value);d?i.add(o.value):i.delete(o.value),t.value=i}function n(o){return t.value.has(o.value)}function r(o){a(o,!n(o))}const s={expand:a,expanded:t,expandOnClick:l,isExpanded:n,toggleExpand:r};return Y(Jt,s),s}function Qt(){const e=Z(Jt);if(!e)throw new Error("foo");return e}const Jl=T({index:Number,item:Object,cellProps:[Object,Function],onClick:Ce(),onContextmenu:Ce(),onDblclick:Ce(),...Te()},"VDataTableRow"),Ql=$()({name:"VDataTableRow",props:Jl(),setup(e,l){let{slots:t}=l;const{displayClasses:a,mobile:n}=ie(e,"v-data-table__tr"),{isSelected:r,toggleSelect:s,someSelected:o,allSelected:d,selectAll:i}=ke(),{isExpanded:m,toggleExpand:f}=Qt(),{toggleSort:g,sortBy:h,isSorted:S}=zt(),{columns:b}=Se();N(()=>u("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&b.value.map((v,k)=>{const c=e.item,I=`item.${v.key}`,p=`header.${v.key}`,P={index:e.index,item:c.raw,internalItem:c,value:bt(c.columns,v.key),column:v,isSelected:r,toggleSelect:s,isExpanded:m,toggleExpand:f},B={column:v,selectAll:i,isSorted:S,toggleSort:g,sortBy:h.value,someSelected:o.value,allSelected:d.value,getSortIcon:()=>""},j=typeof e.cellProps=="function"?e.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value,column:v}):e.cellProps,w=typeof v.cellProps=="function"?v.cellProps({index:P.index,item:P.item,internalItem:P.internalItem,value:P.value}):v.cellProps;return u(ge,O({align:v.align,class:{"v-data-table__td--expanded-row":v.key==="data-table-expand","v-data-table__td--select-row":v.key==="data-table-select"},fixed:v.fixed,fixedOffset:v.fixedOffset,lastFixed:v.lastFixed,maxWidth:n.value?void 0:v.maxWidth,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",nowrap:v.nowrap,width:n.value?void 0:v.width},j,w),{default:()=>{var C,V,_,F,R;if(t[I]&&!n.value)return(C=t[I])==null?void 0:C.call(t,P);if(v.key==="data-table-select")return((V=t["item.data-table-select"])==null?void 0:V.call(t,P))??u($e,{disabled:!c.selectable,modelValue:r([c]),onClick:Je(()=>s(c),["stop"])},null);if(v.key==="data-table-expand")return((_=t["item.data-table-expand"])==null?void 0:_.call(t,P))??u(q,{icon:m(c)?"$collapse":"$expand",size:"small",variant:"text",onClick:Je(()=>f(c),["stop"])},null);const y=xa(P.value);return n.value?u(X,null,[u("div",{class:"v-data-table__td-title"},[((F=t[p])==null?void 0:F.call(t,B))??v.title]),u("div",{class:"v-data-table__td-value"},[((R=t[I])==null?void 0:R.call(t,P))??y])]):y}})})]))}}),Xt=T({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Te()},"VDataTableRows"),nt=$()({name:"VDataTableRows",inheritAttrs:!1,props:Xt(),setup(e,l){let{attrs:t,slots:a}=l;const{columns:n}=Se(),{expandOnClick:r,toggleExpand:s,isExpanded:o}=Qt(),{isSelected:d,toggleSelect:i}=ke(),{toggleGroup:m,isGroupOpen:f}=Ut(),{t:g}=ue(),{mobile:h}=ie(e);return N(()=>{var S,b;return e.loading&&(!e.items.length||a.loading)?u("tr",{class:"v-data-table-rows-loading",key:"loading"},[u("td",{colspan:n.value.length},[((S=a.loading)==null?void 0:S.call(a))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?u("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[u("td",{colspan:n.value.length},[((b=a["no-data"])==null?void 0:b.call(a))??g(e.noDataText)])]):u(X,null,[e.items.map((v,k)=>{var p;if(v.type==="group"){const P={index:k,item:v,columns:n.value,isExpanded:o,toggleExpand:s,isSelected:d,toggleSelect:i,toggleGroup:m,isGroupOpen:f};return a["group-header"]?a["group-header"](P):u(Ul,O({key:`group-header_${v.id}`,item:v},Qe(t,":group-header",()=>P)),a)}const c={index:k,item:v.raw,internalItem:v,columns:n.value,isExpanded:o,toggleExpand:s,isSelected:d,toggleSelect:i},I={...c,props:O({key:`item_${v.key??v.index}`,onClick:r.value?()=>{s(v)}:void 0,index:k,item:v,cellProps:e.cellProps,mobile:h.value},Qe(t,":row",()=>c),typeof e.rowProps=="function"?e.rowProps({item:c.item,index:c.index,internalItem:c.internalItem}):e.rowProps)};return u(X,{key:I.props.key},[a.item?a.item(I):u(Ql,I.props,a),o(v)&&((p=a["expanded-row"])==null?void 0:p.call(a,c))])})])}),{}}}),Yt=T({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...H(),...he(),...K(),...se()},"VTable"),rt=$()({name:"VTable",props:Yt(),setup(e,l){let{slots:t,emit:a}=l;const{themeClasses:n}=oe(e),{densityClasses:r}=Fe(e);return N(()=>u(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},n.value,r.value,e.class],style:e.style},{default:()=>{var s,o,d;return[(s=t.top)==null?void 0:s.call(t),t.default?u("div",{class:"v-table__wrapper",style:{height:M(e.height)}},[u("table",null,[t.default()])]):(o=t.wrapper)==null?void 0:o.call(t),(d=t.bottom)==null?void 0:d.call(t)]}})),{}}}),Xl=T({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Yl(e,l,t,a){const n=e.returnObject?l:ae(l,e.itemValue),r=ae(l,e.itemSelectable,!0),s=a.reduce((o,d)=>(d.key!=null&&(o[d.key]=ae(l,d.value)),o),{});return{type:"item",key:e.returnObject?ae(l,e.itemValue):n,index:t,value:n,selectable:r,columns:s,raw:l}}function Zl(e,l,t){return l.map((a,n)=>Yl(e,a,n,t))}function en(e,l){return{items:x(()=>Zl(e,e.items,l.value))}}function tn(e){let{page:l,itemsPerPage:t,sortBy:a,groupBy:n,search:r}=e;const s=gt("VDataTable"),o=x(()=>({page:l.value,itemsPerPage:t.value,sortBy:a.value,groupBy:n.value,search:r.value}));let d=null;re(o,()=>{mt(d,o.value)||(d&&d.search!==o.value.search&&(l.value=1),s.emit("update:options",o.value),d=o.value)},{deep:!0,immediate:!0})}const an=(e,l,t)=>e==null||l==null?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),ln=T({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function nn(e,l,t){var o;const a=[],n=(t==null?void 0:t.default)??an,r=t!=null&&t.filterKeys?le(t.filterKeys):!1,s=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;e:for(let d=0;d<e.length;d++){const[i,m=i]=le(e[d]),f={},g={};let h=-1;if(l&&!(t!=null&&t.noFilter)){if(typeof i=="object"){const v=r||Object.keys(m);for(const k of v){const c=ae(m,k),I=(o=t==null?void 0:t.customKeyFilter)==null?void 0:o[k];if(h=I?I(c,l,i):n(c,l,i),h!==-1&&h!==!1)I?f[k]=h:g[k]=h;else if((t==null?void 0:t.filterMode)==="every")continue e}}else h=n(i,l,i),h!==-1&&h!==!1&&(g.title=h);const S=Object.keys(g).length,b=Object.keys(f).length;if(!S&&!b||(t==null?void 0:t.filterMode)==="union"&&b!==s&&!S||(t==null?void 0:t.filterMode)==="intersection"&&(b!==s||!S))continue}a.push({index:d,matches:{...g,...f}})}return a}function rn(e,l,t,a){const n=L([]),r=L(new Map),s=x(()=>a!=null&&a.transform?te(l).map(d=>[d,a.transform(d)]):te(l));ye(()=>{const d=typeof t=="function"?t():te(t),i=typeof d!="string"&&typeof d!="number"?"":String(d),m=nn(s.value,i,{customKeyFilter:{...e.customKeyFilter,...te(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),f=te(l),g=[],h=new Map;m.forEach(S=>{let{index:b,matches:v}=S;const k=f[b];g.push(k),h.set(k.value,v)}),n.value=g,r.value=h});function o(d){return r.value.get(d.value)}return{filteredItems:n,filteredMatches:r,getMatches:o}}const sn=T({...Xt(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Wl(),...Ml(),...Vl(),...Xl(),...Ll(),...$l(),...Ht(),...Yt()},"DataTable"),on=T({...kl(),...sn(),...ln(),...Ot()},"VDataTable"),st=$()({name:"VDataTable",props:on(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{attrs:t,slots:a}=l;const{groupBy:n}=jl(e),{sortBy:r,multiSort:s,mustSort:o}=Al(e),{page:d,itemsPerPage:i}=wl(e),{columns:m,headers:f,sortFunctions:g,sortRawFunctions:h,filterFunctions:S}=Dl(e,{groupBy:n,showSelect:D(e,"showSelect"),showExpand:D(e,"showExpand")}),{items:b}=en(e,m),v=D(e,"search"),{filteredItems:k}=rn(e,b,v,{transform:U=>U.columns,customKeyFilter:S}),{toggleSort:c}=Nl({sortBy:r,multiSort:s,mustSort:o,page:d}),{sortByWithGroups:I,opened:p,extractRows:P,isGroupOpen:B,toggleGroup:j}=Gl({groupBy:n,sortBy:r}),{sortedItems:w}=Rl(e,k,I,{transform:U=>U.columns,sortFunctions:g,sortRawFunctions:h}),{flatItems:y}=Hl(w,n,p),C=x(()=>y.value.length),{startIndex:V,stopIndex:_,pageCount:F,setItemsPerPage:R}=xl({page:d,itemsPerPage:i,itemsLength:C}),{paginatedItems:G}=Cl({items:y,startIndex:V,stopIndex:_,itemsPerPage:i}),Q=x(()=>P(G.value)),{isSelected:we,select:Zt,selectAll:ea,toggleSelect:ta,someSelected:aa,allSelected:la}=Ol(e,{allItems:b,currentPage:Q}),{isExpanded:na,toggleExpand:ra}=ql(e);tn({page:d,itemsPerPage:i,sortBy:r,groupBy:n,search:v}),fe({VDataTableRows:{hideNoData:D(e,"hideNoData"),noDataText:D(e,"noDataText"),loading:D(e,"loading"),loadingText:D(e,"loadingText")}});const E=x(()=>({page:d.value,itemsPerPage:i.value,sortBy:r.value,pageCount:F.value,toggleSort:c,setItemsPerPage:R,someSelected:aa.value,allSelected:la.value,isSelected:we,select:Zt,selectAll:ea,toggleSelect:ta,isExpanded:na,toggleExpand:ra,isGroupOpen:B,toggleGroup:j,items:Q.value.map(U=>U.raw),internalItems:Q.value,groupedItems:G.value,columns:m.value,headers:f.value}));return N(()=>{const U=at.filterProps(e),sa=lt.filterProps(e),oa=nt.filterProps(e),ua=rt.filterProps(e);return u(rt,O({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ua),{top:()=>{var ee;return(ee=a.top)==null?void 0:ee.call(a,E.value)},default:()=>{var ee,Ee,Me,je,Ge,ze;return a.default?a.default(E.value):u(X,null,[(ee=a.colgroup)==null?void 0:ee.call(a,E.value),!e.hideDefaultHeader&&u("thead",{key:"thead"},[u(lt,sa,a)]),(Ee=a.thead)==null?void 0:Ee.call(a,E.value),!e.hideDefaultBody&&u("tbody",null,[(Me=a["body.prepend"])==null?void 0:Me.call(a,E.value),a.body?a.body(E.value):u(nt,O(t,oa,{items:G.value}),a),(je=a["body.append"])==null?void 0:je.call(a,E.value)]),(Ge=a.tbody)==null?void 0:Ge.call(a,E.value),(ze=a.tfoot)==null?void 0:ze.call(a,E.value)])},bottom:()=>a.bottom?a.bottom(E.value):!e.hideDefaultFooter&&u(X,null,[u(za,null,null),u(at,U,{prepend:a["footer.prepend"]})])})}),{}}}),un={class:"d-flex flex-column h-screen"},vn=Pa({__name:"OrderBookPage",setup(e){const l=sl(),{amountLimit:t}=ft(l),a=ie();let n=[];n.push({title:"Price",value:"price"}),!a.mobile.value&&!a.smAndDown.value&&n.push({title:"Quantity",value:"quantity"}),n.push({title:"Total",value:"total"});const r=L(n),s=x(()=>{var m;if(l.bids,!!l.initialized)return(m=l.bids)==null?void 0:m.map(f=>({price:f[0],quantity:f[1],total:Number(f[0])*Number(f[1])}))}),o=x(()=>{var m;if(l.asks,!!l.initialized)return(m=l.asks)==null?void 0:m.map(f=>({price:f[0],quantity:f[1],total:Number(f[0])*Number(f[1])}))}),d=L(t),i=L([100,500,1e3]);return Ca(async()=>{l.initialized||await l.initialize()}),Va(()=>{l.unsubscribeFromDiff()}),(m,f)=>{const g=ca;return pa(),Ia("div",un,[u(g),u(Ka,{class:"flex-grow-1 h-0 pa-0"},{default:A(()=>[u(Oe,{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=h=>d.value=h),"hide-details":!0,items:i.value,class:"mt-4 ml-0 w-auto",label:"Rows per page",variant:"outlined"},null,8,["modelValue","items"]),u(tl,{class:"flex-grow-1 h-75 ma-0"},{default:A(()=>[u(Ye,{class:"flex-grow-1 h-100 pl-0",cols:"12",sm:"6"},{default:A(()=>[u(st,{"fixed-header":!0,headers:r.value,items:s.value,"items-per-page":d.value,class:"flex-grow-1 h-100",density:"compact","item-key":"id"},{top:A(()=>[u(Ke,{class:"d-flex align-center justify-space-between",flat:""},{default:A(()=>[u(Ue,null,{default:A(()=>[ve("Bids")]),_:1}),u(We)]),_:1})]),bottom:A(()=>[]),_:1},8,["headers","items","items-per-page"])]),_:1}),u(Ye,{class:"flex-grow-1 h-100 pl-0 pr-0",cols:"12",sm:"6"},{default:A(()=>[u(st,{"fixed-header":!0,headers:r.value,items:o.value,"items-per-page":d.value,class:"flex-grow-1 h-100",density:"compact","item-key":"id"},{top:A(()=>[u(Ke,{flat:""},{default:A(()=>[u(Ue,null,{default:A(()=>[ve("Asks")]),_:1}),u(We)]),_:1})]),bottom:A(()=>[]),_:1},8,["headers","items","items-per-page"])]),_:1})]),_:1})]),_:1})])}}});export{vn as default};
